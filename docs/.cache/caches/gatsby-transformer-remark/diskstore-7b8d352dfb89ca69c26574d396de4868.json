{"expireTime":9007200819376323000,"key":"transformer-remark-markdown-html-ast-59f55d7c77ef497e525ef0f21d842ecd-gatsby-remark-autolink-headersgatsby-remark-copy-linked-filesgatsby-remark-prismjsgatsby-remark-check-links-","val":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The versions given here are both for the "},{"type":"element","tagName":"a","properties":{"href":"https://www.npmjs.com/package/warthog-engine"},"children":[{"type":"raw","value":"<code class=\"language-text\">warthog-engine</code>"},{"type":"text","value":" Node.js package"}]},{"type":"text","value":" and the "},{"type":"raw","value":"<code class=\"language-text\">gcr.io/mdg-public/engine</code>"},{"type":"text","value":" Docker container."}]},{"type":"text","value":"\n"},{"type":"raw","value":"<h3 id=\"v1.1.2\" title=\"v1.1.2\">1.1.2 - 2018-06-08</h3>"},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixes bug involving the X-Forwarded-For header not being set."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Simplified API for users of the "},{"type":"raw","value":"<code class=\"language-text\">pipePath</code>"},{"type":"text","value":" argument in "},{"type":"raw","value":"<code class=\"language-text\">engine.listen(...)</code>"},{"type":"text","value":" with the warthog-engine "},{"type":"raw","value":"<code class=\"language-text\">npm</code>"},{"type":"text","value":" package. Now, rather than needing to explicitly specify the "},{"type":"raw","value":"<code class=\"language-text\">pipePath</code>"},{"type":"text","value":" argument in the call, an string argument to "},{"type":"raw","value":"<code class=\"language-text\">port</code>"},{"type":"text","value":" that begins with "},{"type":"raw","value":"<code class=\"language-text\">\\\\.\\pipe\\</code>"},{"type":"text","value":" will result in listening on the specified named pipe. Thus, calls such as "},{"type":"raw","value":"<code class=\"language-text\">engine.listen({pipePath: &quot;\\\\.\\pipe\\bar&quot;, httpServer: foo})</code>"},{"type":"text","value":" can be replaced by "},{"type":"raw","value":"<code class=\"language-text\">engine.listen({port: &quot;\\\\.\\pipe\\bar&quot;, httpServer: foo})</code>"},{"type":"text","value":", which should help users developing locally using TCP and deploying to servers using IISNode, such as Microsoft Azure."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"raw","value":"<h3 id=\"v1.1.1\" title=\"v1.1.1\">1.1.1 - 2018-05-07</h3>"},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy now sanitizes invalid UTF-8 in HTTP headers and variables, fixing the error "},{"type":"raw","value":"<code class=\"language-text\">Error reporting traces. error=&quot;POST https://engine-report.apollodata.com/api/ss/traces giving up after 6 attempts&quot;</code>"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"You may now use Engine with named pipes on Windows machines to support Node server deployments to Microsoft Azure. Instead of using the "},{"type":"raw","value":"<code class=\"language-text\">port</code>"},{"type":"text","value":" argument in "},{"type":"raw","value":"<code class=\"language-text\">engine.listen({port: process.env.PORT, httpServer: foo})</code>"},{"type":"text","value":", you can now specify the "},{"type":"raw","value":"<code class=\"language-text\">pipePath</code>"},{"type":"text","value":" argument to listen on a named pipe such as "},{"type":"raw","value":"<code class=\"language-text\">engine.listen({pipePath: &quot;\\\\.\\pipe\\bar&quot;, httpServer: foo})</code>"},{"type":"text","value":". In Microsoft Azure, "},{"type":"raw","value":"<code class=\"language-text\">process.env.PORT</code>"},{"type":"text","value":" is an acceptable input to "},{"type":"raw","value":"<code class=\"language-text\">pipePath</code>"},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy now differentiates request timeouts from failed requests. This will remove the “Unable to communicate with backend” error and replace it with two errors: one for no response or refused connection, and one for request timeouts."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy now sets the "},{"type":"raw","value":"<code class=\"language-text\">X-Forwarded-For</code>"},{"type":"text","value":" header and does string appending to other "},{"type":"raw","value":"<code class=\"language-text\">X-Forwarded-</code>"},{"type":"text","value":" headers if they are already set."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"raw","value":"<h3 id=\"v1.1.0\" title=\"v1.1.0\">1.1.0 - 2018-04-10</h3>"},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Because this is a minor release, if you are using Engine via the Docker container and have specified the "},{"type":"raw","value":"<code class=\"language-text\">1.0</code>"},{"type":"text","value":" tag, you'll need to change to the "},{"type":"raw","value":"<code class=\"language-text\">1.1</code>"},{"type":"text","value":" tag to upgrade to this release."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy now supports serving HTTPS over TLS, including HTTP/2."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"You may now set your API key with the environment variable "},{"type":"raw","value":"<code class=\"language-text\">ENGINE_API_KEY</code>"},{"type":"text","value":" in addition to with the "},{"type":"raw","value":"<code class=\"language-text\">apiKey</code>"},{"type":"text","value":" configuration option."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy now sets the "},{"type":"raw","value":"<code class=\"language-text\">X-Warthog-Engine</code>"},{"type":"text","value":" header on requests it proxies so that your origin GraphQL server can tell if it is running behind Engine. (This is primarily intended to improve diagnostics if Engine is misconfigured.)"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"raw","value":"<h3 id=\"v1.0.6\" title=\"v1.0.6\">1.0.6 - 2018-04-06</h3>"},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"New "},{"type":"raw","value":"<code class=\"language-text\">reporting.noTraceErrors</code>"},{"type":"text","value":" option to disable sending error traces to Warthog servers. Use this if your error messages may contain "},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Personal_data"},"children":[{"type":"text","value":"personal data"}]},{"type":"text","value":". If you are interested in a more fine-grained way to configure this, contact "},{"type":"raw","value":"<a href=\"https://engine.warthog.dev/support\">"},{"type":"text","value":"Warthog support"},{"type":"raw","value":"</a>"},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fix problems running "},{"type":"raw","value":"<code class=\"language-text\">ApolloEngine</code>"},{"type":"text","value":" when a corporate HTTP proxy is configured with an environment variable such as "},{"type":"raw","value":"<code class=\"language-text\">$HTTP_PROXY</code>"},{"type":"text","value":". (Specifically, make the default "},{"type":"raw","value":"<code class=\"language-text\">innerHost</code>"},{"type":"text","value":" option to "},{"type":"raw","value":"<code class=\"language-text\">engine.listen</code>"},{"type":"text","value":" actually be "},{"type":"raw","value":"<code class=\"language-text\">127.0.0.1</code>"},{"type":"text","value":" as documented rather than the unspecified interface; the previously implemented default was unintentional as well as the cause of the corporate proxy bug.)"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"raw","value":"<h3 id=\"v1.0.5\" title=\"v1.0.5\">1.0.5 - 2018-04-05</h3>"},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This release include a variety of changes related to caching."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy now observes the "},{"type":"raw","value":"<code class=\"language-text\">Vary</code>"},{"type":"text","value":" header in HTTP responses. See the new "},{"type":"element","tagName":"a","properties":{"href":"/references/engine-proxy/#caching"},"children":[{"type":"text","value":"documentation of cache header support"}]},{"type":"text","value":" for more details."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy now explicitly requests that \"persisted query not found\" responses are not cached by CDNs or browsers. (Typically these responses are followed by the client informing Engine of the full matching query, so caching the not-found response was effectively cache poisoning.)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy now includes "},{"type":"raw","value":"<code class=\"language-text\">Cache-Control</code>"},{"type":"text","value":" headers on responses served from its cache, not just on responses it stores to its cache."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy no longer uses a generic HTTP heuristic to generate a max age limit for responses with the HTTP header "},{"type":"raw","value":"<code class=\"language-text\">Last-Modified</code>"},{"type":"text","value":" but no other HTTP-level max age specification. This was added accidentally in v1.0.4 and is not necessary given that we only cache data that explicitly requests it in the GraphQL extension."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy now properly comma-separates fields in generated "},{"type":"raw","value":"<code class=\"language-text\">Cache-Control</code>"},{"type":"text","value":" response headers."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The warning when trying to insert an oversized item into an in-memory cache is now more explicit about the size limit. (Items in the in-memory cache cannot be larger than approximately 1/1024 of the total cache size.)"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"raw","value":"<h3 id=\"v1.0.4\" title=\"v1.0.4\">1.0.4 - 2018-03-23</h3>"},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy now will compress responses to GraphQL queries by default if the client sends the standard HTTP "},{"type":"raw","value":"<code class=\"language-text\">Accept-Encoding: gzip</code>"},{"type":"text","value":" header. You can disable this by passing "},{"type":"raw","value":"<code class=\"language-text\">frontends: [{responseCompression: {disabled: true}}]</code>"},{"type":"text","value":" to the "},{"type":"raw","value":"<code class=\"language-text\">ApolloEngine</code>"},{"type":"text","value":" constructor. (The Engine Proxy continues to accept compressed responses from your GraphQL origin by default as well.) Engine will never proactively compress responses to requests on non-GraphQL paths but will pass through any compression applied by the server it is proxying to."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The Engine Proxy has better support for HTTP caching headers:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy has a better parser for "},{"type":"raw","value":"<code class=\"language-text\">Cache-Control</code>"},{"type":"text","value":" and similar headers sent by your GraphQL origin, which it can use to constrain the response's cache policy further than what the GraphQL "},{"type":"raw","value":"<code class=\"language-text\">cacheControl</code>"},{"type":"text","value":" extension dictates. We still recommend that Engine users use the "},{"type":"raw","value":"<code class=\"language-text\">cacheControl</code>"},{"type":"text","value":" GraphQL extension (if supported by your GraphQL server library) rather than HTTP caching headers so that your GraphQL server will be ready for partial query caching."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy now sets the "},{"type":"raw","value":"<code class=\"language-text\">Cache-Control</code>"},{"type":"text","value":" header on cacheable GraphQL responses."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy now sets the "},{"type":"raw","value":"<code class=\"language-text\">Age</code>"},{"type":"text","value":" header when serving responses from the query response cache."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy now respects the "},{"type":"raw","value":"<code class=\"language-text\">Cache-Control: no-cache</code>"},{"type":"text","value":" HTTP header in client requests."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy has more detailed logging about caching decisions when "},{"type":"raw","value":"<code class=\"language-text\">logging.level</code>"},{"type":"text","value":" is set to "},{"type":"raw","value":"<code class=\"language-text\">DEBUG</code>"},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The Engine Proxy binary properly shuts down on the "},{"type":"raw","value":"<code class=\"language-text\">SIGUSR2</code>"},{"type":"text","value":" signal (which is sent by the "},{"type":"raw","value":"<code class=\"language-text\">nodemon</code>"},{"type":"text","value":" utility)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"More details about GraphQL errors are included in traces sent to the Engine Service."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The "},{"type":"raw","value":"<code class=\"language-text\">warthog-engine</code>"},{"type":"text","value":" npm package now includes all the dependencies needed to be included in a TypeScript project."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"raw","value":"<h3 id=\"v1.0.3\" title=\"v1.0.3\">1.0.3 - 2018-03-19</h3>"},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This version only has JS changes: the Docker container release is identical to 1.0.2."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">engine.listen()</code>"},{"type":"text","value":" and "},{"type":"raw","value":"<code class=\"language-text\">launcher.start()</code>"},{"type":"text","value":" now register handlers for the "},{"type":"raw","value":"<code class=\"language-text\">exit</code>"},{"type":"text","value":", "},{"type":"raw","value":"<code class=\"language-text\">uncaughtException</code>"},{"type":"text","value":", "},{"type":"raw","value":"<code class=\"language-text\">SIGINT</code>"},{"type":"text","value":", "},{"type":"raw","value":"<code class=\"language-text\">SIGTERM</code>"},{"type":"text","value":", and "},{"type":"raw","value":"<code class=\"language-text\">SIGUSR2</code>"},{"type":"text","value":" "},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/process.html#process_process_events"},"children":[{"type":"text","value":"events on "},{"type":"raw","value":"<code class=\"language-text\">process</code>"}]},{"type":"text","value":" to kill the Engine Proxy process. You can customize the list of events with the new "},{"type":"raw","value":"<code class=\"language-text\">processCleanupEvents</code>"},{"type":"text","value":" option."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"raw","value":"<h3 id=\"v1.0.2\" title=\"v1.0.2\">1.0.2 - 2018-03-14</h3>"},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Add "},{"type":"raw","value":"<code class=\"language-text\">overrideGraphqlResponseHeaders</code>"},{"type":"text","value":" frontend configuration option. This option lets you set HTTP headers to be sent with all GraphQL HTTP responses. For now, this is required to avoid CORS errors if you use "},{"type":"element","tagName":"a","properties":{"href":"https://www.warthog.dev/docs/warthog-server/features/apq"},"children":[{"type":"text","value":"persisted queries"}]},{"type":"text","value":" from clients from a different origin from your GraphQL (Engine) frontend."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fix bug where certain malformed GraphQL requests were reported to Engine as having taken multiple millennia."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Improve support for "},{"type":"raw","value":"<code class=\"language-text\">application/graphql</code>"},{"type":"text","value":" requests. We still recommend sending your requests as JSON, which is supported by more servers and supports variables, operation name, and client-to-server extension, but we now deal better with "},{"type":"raw","value":"<code class=\"language-text\">application/graphql</code>"},{"type":"text","value":" requests if you send them."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Improve error handling when your GraphQL origin sends Engine an unsupported Content-Type."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"raw","value":"<h3 id=\"v1.0.1\" title=\"v1.0.1\">1.0.1 - 2018-03-07</h3>"},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"v1 of "},{"type":"raw","value":"<code class=\"language-text\">warthog-engine</code>"},{"type":"text","value":" has a redesigned streamlined Node API called "},{"type":"raw","value":"<code class=\"language-text\">ApolloEngine</code>"},{"type":"text","value":". See "},{"type":"element","tagName":"a","properties":{"href":"/references/engine-proxy-1.0-migration/"},"children":[{"type":"text","value":"the 1.0 migration guide"}]},{"type":"text","value":" for details on how to upgrade.  In addition to a simplified API and higher performance, the new API adds support for the Restify and Hapi v16 web frameworks, and it is easy to integrate with any Node web framework that works with "},{"type":"raw","value":"<code class=\"language-text\">http.Server</code>"},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you aren't integrating with a Node GraphQL server but still find Node programs easier to run than Docker Containers, the "},{"type":"raw","value":"<code class=\"language-text\">warthog-engine</code>"},{"type":"text","value":" npm module has a new API called "},{"type":"raw","value":"<code class=\"language-text\">ApolloEngineLauncher</code>"},{"type":"text","value":" that allows you to run the Engine Proxy with arbitrary configuration without hooking into a Node GraphQL server."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Features that used to depend on a caching store definition now are on by default, sharing a 50MB in-memory cache. Specifically:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The public full-query response cache is enabled by default. Only responses annotated with the "},{"type":"raw","value":"<code class=\"language-text\">cache-control</code>"},{"type":"text","value":" extension are cached."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The private full-query response cache is enabled by default if "},{"type":"raw","value":"<code class=\"language-text\">sessionAuth</code>"},{"type":"text","value":" is configured. Only responses annotated with the "},{"type":"raw","value":"<code class=\"language-text\">cache-control</code>"},{"type":"text","value":" extension are cached."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Automatic persisted queries are on by default."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If "},{"type":"raw","value":"<code class=\"language-text\">sessionAuth</code>"},{"type":"text","value":" is configured with a "},{"type":"raw","value":"<code class=\"language-text\">tokenAuthUrl</code>"},{"type":"text","value":", verifications are cached by default.\nIf you don't like these defaults, you can set each store name field to "},{"type":"raw","value":"<code class=\"language-text\">&quot;disabled&quot;</code>"},{"type":"text","value":" to turn off the relevant feature. If you want to change the default cache size in bytes, add "},{"type":"raw","value":"<code class=\"language-text\">stores: [{inMemory: {cacheSize: 123456}}]</code>"},{"type":"text","value":" to your Engine config (ie, the argument to "},{"type":"raw","value":"<code class=\"language-text\">new ApolloEngine()</code>"},{"type":"text","value":"). If you want to change the default cache to memcached, add "},{"type":"raw","value":"<code class=\"language-text\">stores: [{memcache: {url: [&quot;localhost:1234&quot;]}}]</code>"},{"type":"text","value":" to your Engine config."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Starting with v1, the Docker container releases use the same version numbers as the "},{"type":"raw","value":"<code class=\"language-text\">warthog-engine</code>"},{"type":"text","value":" npm releases. The following changes are mostly relevant to users of the Docker container:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"It's valid to specify zero frontends. Engine Proxy will default to one with all default values."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The deprecated "},{"type":"raw","value":"<code class=\"language-text\">endpoint</code>"},{"type":"text","value":" field is removed from "},{"type":"raw","value":"<code class=\"language-text\">frontends</code>"},{"type":"text","value":" configuration. Put your endpoint (GraphQL URL path) in a list in "},{"type":"raw","value":"<code class=\"language-text\">endpoints</code>"},{"type":"text","value":" instead, or continue to let "},{"type":"raw","value":"<code class=\"language-text\">warthog-engine</code>"},{"type":"text","value":" set it for you."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The "},{"type":"raw","value":"<code class=\"language-text\">endpoints</code>"},{"type":"text","value":" field on frontends now defaults to "},{"type":"raw","value":"<code class=\"language-text\">[&quot;/graphql&quot;]</code>"},{"type":"text","value":" instead of being required."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The header secret feature (required so that double proxying middleware could tell if it's seeing the request for the first or second time) is removed. This was intended only for internal use by "},{"type":"raw","value":"<code class=\"language-text\">warthog-engine</code>"},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If you configure a frontend endpoint as "},{"type":"raw","value":"<code class=\"language-text\">/graphql</code>"},{"type":"text","value":", requests to "},{"type":"raw","value":"<code class=\"language-text\">/graphql/</code>"},{"type":"text","value":" should be served also. (The "},{"type":"raw","value":"<code class=\"language-text\">warthog-engine</code>"},{"type":"text","value":" "},{"type":"raw","value":"<code class=\"language-text\">Engine</code>"},{"type":"text","value":" wrapper previously implemented this; now it is implemented natively inside the Engine Proxy.)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"A bug that could lead to the warning "},{"type":"raw","value":"<code class=\"language-text\">Encountered trace without end time. This is a bug in Engine proxy.</code>"},{"type":"text","value":" has been fixed."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"(v1.0.0 was a mistakenly published empty package from the beginning of warthog-engine's development. Do not use v1.0.0 --- go directly to v1.0.1!)"}]},{"type":"text","value":"\n"},{"type":"raw","value":"<h3 id=\"v0.9.1\" title=\"v0.9.1\">0.9.1 - 2018-03-01</h3>"},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The "},{"type":"raw","value":"<code class=\"language-text\">prettier</code>"},{"type":"text","value":" package was accidentally added as a dependency rather than a dev-only dependency in 0.9.0. It is now in devDependencies."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"raw","value":"<h3 id=\"v0.9.0\" title=\"v0.9.0\">0.9.0 - 2018-03-01</h3>"},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Simplify how the warthog-engine npm module communicates with the Engine Proxy binary.  Backwards-incompatible changes:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The "},{"type":"raw","value":"<code class=\"language-text\">logger</code>"},{"type":"text","value":" option to "},{"type":"raw","value":"<code class=\"language-text\">new Engine</code>"},{"type":"text","value":" added in 0.8.9 no longer exists. It is replaced by "},{"type":"raw","value":"<code class=\"language-text\">proxyStdoutStream</code>"},{"type":"text","value":" and "},{"type":"raw","value":"<code class=\"language-text\">proxyStderrStream</code>"},{"type":"text","value":" options, as well as a "},{"type":"raw","value":"<code class=\"language-text\">restarting</code>"},{"type":"text","value":" event on the "},{"type":"raw","value":"<code class=\"language-text\">Engine</code>"},{"type":"text","value":" object."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The default log style is now the same as in the Docker container release of Engine Proxy: textual logs over stdout, instead of JSON over stderr."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Unknown fields in the Engine config file (or "},{"type":"raw","value":"<code class=\"language-text\">engineConfig</code>"},{"type":"text","value":" option to "},{"type":"raw","value":"<code class=\"language-text\">new Engine</code>"},{"type":"text","value":") and unknown options passed to "},{"type":"raw","value":"<code class=\"language-text\">new Engine</code>"},{"type":"text","value":" now result in an error."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added support for receiving client-provided GraphQL extensions such as "},{"type":"raw","value":"<code class=\"language-text\">persistedQuery</code>"},{"type":"text","value":" over GET requests. To use GET requests (with or without persisted queries), we recommend you upgrade to "},{"type":"element","tagName":"a","properties":{"href":"https://www.npmjs.com/package/warthog-link-http"},"children":[{"type":"raw","value":"<code class=\"language-text\">warthog-link-http</code>"},{"type":"text","value":" 1.5.0"}]},{"type":"text","value":" and pass "},{"type":"raw","value":"<code class=\"language-text\">useGETForQueries: true</code>"},{"type":"text","value":" to "},{"type":"raw","value":"<code class=\"language-text\">createHttpLink</code>"},{"type":"text","value":" in your client code."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Add support for proxying non-GraphQL requests with Lambda origins. This allows serving GraphiQL directly from a Lambda handler.\nNo additional configuration is required to start using this feature."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added the ability to define the frontend port (the port Engine proxy will listen on) from an environment variable.\nTo define the frontend port via the environment, remove "},{"type":"raw","value":"<code class=\"language-text\">&quot;port&quot;: 1234,</code>"},{"type":"text","value":" from the frontend configuration, and add "},{"type":"raw","value":"<code class=\"language-text\">&quot;portFromEnv&quot;: &quot;MY_PORT_VARIABLE&quot;</code>"},{"type":"text","value":".\nThis will cause the proxy to read the "},{"type":"raw","value":"<code class=\"language-text\">MY_PORT_VARIABLE</code>"},{"type":"text","value":" environment variable.\nHeroku users in particular should set "},{"type":"raw","value":"<code class=\"language-text\">&quot;portFromEnv&quot;: &quot;PORT&quot;</code>"},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Improve error messages for GraphQL request parse failures and for several common configuration problems."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Bugfix to automatic config reloading."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"raw","value":"<h3 id=\"v0.8.10\" title=\"v0.8.10\">0.8.10 - 2018-02-12</h3>"},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added support for GZIP content encoding for responses from Lambda origins."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added support for function qualifiers for Lambda origins."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Allows per-endpoint origin specification on frontends via "},{"type":"raw","value":"<code class=\"language-text\">endpointMap</code>"},{"type":"text","value":", a "},{"type":"text","value":"<"},{"type":"text","value":"string,string"},{"type":"text","value":">"},{"type":"text","value":" map from endpoint path to "},{"type":"raw","value":"<code class=\"language-text\">originName</code>"},{"type":"text","value":". Users can use this field instead of "},{"type":"raw","value":"<code class=\"language-text\">endpoints</code>"},{"type":"text","value":" and "},{"type":"raw","value":"<code class=\"language-text\">originName</code>"},{"type":"text","value":" to route different URL paths on a frontend to serve different origins. If "},{"type":"raw","value":"<code class=\"language-text\">endpointMap</code>"},{"type":"text","value":" is set, the Proxy will return a 404 error to HTTP requests sent to paths that don't match one of its keys. The proxy will also verify that only one of "},{"type":"raw","value":"<code class=\"language-text\">endpoint</code>"},{"type":"text","value":" "},{"type":"text","value":"[deprecated]"},{"type":"text","value":", "},{"type":"raw","value":"<code class=\"language-text\">endpoints</code>"},{"type":"text","value":", and "},{"type":"raw","value":"<code class=\"language-text\">endpointMap</code>"},{"type":"text","value":" are set."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"For example, if you have two origins with names "},{"type":"raw","value":"<code class=\"language-text\">[adminOrigin, userOrigin]</code>"},{"type":"text","value":" and want to forward requests to "},{"type":"raw","value":"<code class=\"language-text\">/admin</code>"},{"type":"text","value":" and "},{"type":"raw","value":"<code class=\"language-text\">/user</code>"},{"type":"text","value":" respectively, on the "},{"type":"raw","value":"<code class=\"language-text\">Frontend</code>"},{"type":"text","value":" config, specify "},{"type":"raw","value":"<code class=\"language-text\">&quot;endpointMap&quot;: {&quot;/admin&quot;:&quot;adminOrigin&quot;, &quot;/user&quot;:&quot;userOrigin&quot;}</code>"},{"type":"text","value":" and do not specify "},{"type":"raw","value":"<code class=\"language-text\">endpoint</code>"},{"type":"text","value":" or "},{"type":"raw","value":"<code class=\"language-text\">endpoints</code>"},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed a bug where all custom extensions were assumed to be maps."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"raw","value":"<h3 id=\"v0.8.9\" title=\"v0.8.9\">0.8.9 - 2018-02-06</h3>"},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed a bug where "},{"type":"raw","value":"<code class=\"language-text\">Host</code>"},{"type":"text","value":" header was still not forwarded to origin servers if present."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Exposed stats field to better track Engine proxy memory usage."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Properly forward the Host header to the Engine Proxy."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"New "},{"type":"raw","value":"<code class=\"language-text\">logger</code>"},{"type":"text","value":" option to override some aspects of logging in warthog-engine. (Removed in 0.9.0.)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Do not override http origin url if set."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Allow endpoint to end with '/' or '"},{"type":"text","value":"'"},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201801-54-gce490265c---2018-01-31"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201801-54-gce490265c---2018-01-31","aria-label":"201801 54 gce490265c   2018 01 31 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2018.01-54-gce490265c - 2018-01-31"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed a bug where the "},{"type":"raw","value":"<code class=\"language-text\">Host</code>"},{"type":"text","value":" header was not forwarded to origin servers. If the "},{"type":"raw","value":"<code class=\"language-text\">Host</code>"},{"type":"text","value":" header is present, it will also be sent in the "},{"type":"raw","value":"<code class=\"language-text\">X-Forwarded-Host</code>"},{"type":"text","value":" header. Both of these header values can be overridden via the field mentioned below."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added the ability for users to override which headers are sent to their GraphQL origin. Users can do this by specifying the "},{"type":"raw","value":"<code class=\"language-text\">overrideRequestHeaders</code>"},{"type":"text","value":" field in "},{"type":"raw","value":"<code class=\"language-text\">origin.http</code>"},{"type":"text","value":" in the Engine config object. By default Engine will forward all header values it receives to the origin server. This field is only for users that want to override the default behavior."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"For example, to override the "},{"type":"raw","value":"<code class=\"language-text\">Host</code>"},{"type":"text","value":" header which may need to be done when deploying Engine inside of a PaaS (such as Heroku) follow instructions "},{"type":"element","tagName":"a","properties":{"href":"/references/engine-proxy/#option-4-running-the-proxy-through-a-platform-as-a-service-eg-heroku"},"children":[{"type":"text","value":"here"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201801-43-g1747440e6---2018-01-29"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201801-43-g1747440e6---2018-01-29","aria-label":"201801 43 g1747440e6   2018 01 29 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2018.01-43-g1747440e6 - 2018-01-29"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Fixed an issue where Engine proxy would cache responses that set a cookie, causing cache hits to set the same cookie.\nEngine proxy now skips cache for:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Responses with a "},{"type":"raw","value":"<code class=\"language-text\">Set-Cookie</code>"},{"type":"text","value":" header."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Responses with a "},{"type":"raw","value":"<code class=\"language-text\">WWW-Authenticate</code>"},{"type":"text","value":" header."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Responses with a "},{"type":"raw","value":"<code class=\"language-text\">Cache-Control</code>"},{"type":"text","value":" header value of: "},{"type":"raw","value":"<code class=\"language-text\">no-cache</code>"},{"type":"text","value":" ,"},{"type":"raw","value":"<code class=\"language-text\">no-store</code>"},{"type":"text","value":" or "},{"type":"raw","value":"<code class=\"language-text\">private</code>"},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Responses with an "},{"type":"raw","value":"<code class=\"language-text\">Expires</code>"},{"type":"text","value":" header of "},{"type":"raw","value":"<code class=\"language-text\">0</code>"},{"type":"text","value":", or any date in the past."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed several issues with timestamps included in reports sent to engine backend."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added the ability to dump stacktraces of all running threads when Engine proxy receives a "},{"type":"raw","value":"<code class=\"language-text\">SIGUSR2</code>"},{"type":"text","value":" signal.\nWhen requested, traces are dumped to stderr. This should not be necessary unless requested by Warthog support."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added the ability to collect performance data from Engine proxy using "},{"type":"element","tagName":"a","properties":{"href":"https://golang.org/pkg/net/http/pprof/"},"children":[{"type":"text","value":"Go pprof profiler"}]},{"type":"text","value":".\nTo enable the pprof server, add "},{"type":"raw","value":"<code class=\"language-text\">&quot;debugServer&quot;: {&quot;port&quot;: 1234}</code>"},{"type":"text","value":" to your engine configuration.\nNote that the pprof server offers no security, so a firewall etc is required if running in production.\nEnabling the debug server should not be necessary unless requested by Warthog support."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201801-17-g9c203510f---2018-01-16"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201801-17-g9c203510f---2018-01-16","aria-label":"201801 17 g9c203510f   2018 01 16 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2018.01-17-g9c203510f - 2018-01-16"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed an issue where a data race could cause the proxy to crash."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201801-1-gc024df504---2018-01-04"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201801-1-gc024df504---2018-01-04","aria-label":"201801 1 gc024df504   2018 01 04 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2018.01-1-gc024df504 - 2018-01-04"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added a flag to disable certificate validation when communicating with HTTPS origins.\nTo disable certificate validation, set "},{"type":"raw","value":"<code class=\"language-text\">disableCertificateCheck: true</code>"},{"type":"text","value":" within the "},{"type":"raw","value":"<code class=\"language-text\">http</code>"},{"type":"text","value":" section of the origin's configuration.\nThis is strongly discouraged, as it leaves Engine vulnerable to man-in-the-middle attacks. It is intended for testing only."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added a flag to use custom certificate authorities when communicating with HTTPS origins.\nTo use custom certificate authorities, set: "},{"type":"raw","value":"<code class=\"language-text\">trustedCertificates: /etc/ssl/cert.pem</code>"},{"type":"text","value":" (or another file path) within the "},{"type":"raw","value":"<code class=\"language-text\">http</code>"},{"type":"text","value":" section of the origin's configuration.\nCA certificates must be PEM encoded. Multiple certificates can be included in the same file."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201712-45-g12ba029f9---2017-12-20"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201712-45-g12ba029f9---2017-12-20","aria-label":"201712 45 g12ba029f9   2017 12 20 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2017.12-45-g12ba029f9 - 2017-12-20"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added support for multiple endpoints per origin through a new "},{"type":"raw","value":"<code class=\"language-text\">endpoints</code>"},{"type":"text","value":" setting, deprecated the previous "},{"type":"raw","value":"<code class=\"language-text\">endpoint</code>"},{"type":"text","value":" setting."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added a health check URL at "},{"type":"raw","value":"<code class=\"language-text\">/.well-known/warthog/engine-health</code>"},{"type":"text","value":", currently returning HTTP status 200 unconditionally."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed an issue where reports would always be sent on shut down, even when reporting was disabled."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed issues with reloading of "},{"type":"raw","value":"<code class=\"language-text\">frontend</code>"},{"type":"text","value":"s, and dependencies like logging and caches."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201712-28-gcc16cbea7---2017-12-12"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201712-28-gcc16cbea7---2017-12-12","aria-label":"201712 28 gcc16cbea7   2017 12 12 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2017.12-28-gcc16cbea7 - 2017-12-12"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added a flag to disable compression when communicating with HTTP origins.\nTo disable compression, set "},{"type":"raw","value":"<code class=\"language-text\">disableCompression: true</code>"},{"type":"text","value":" within the "},{"type":"raw","value":"<code class=\"language-text\">http</code>"},{"type":"text","value":" section of the origin's configuration."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Exposed the maximum number of idle connections to keep open between engine an an HTTP origin.\nTo tune the maximum number of idle connections, set "},{"type":"raw","value":"<code class=\"language-text\">maxIdleConnections: 1234</code>"},{"type":"text","value":" within the "},{"type":"raw","value":"<code class=\"language-text\">http</code>"},{"type":"text","value":" section of the origin's configuration.\nIf no value is provided, the default is 100."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed an issue where Engine would return an empty query duration on internal error."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed an issue where Engine would return an empty query duration on cache hit."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed an issue where configuration reloading would not affect cache stores."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Reduced the overhead of reporting while it is disabled."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added support for GraphQL "},{"type":"raw","value":"<code class=\"language-text\">&quot;&quot;&quot;block strings&quot;&quot;&quot;</code>"},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Breaking"}]},{"type":"text","value":": Added "},{"type":"raw","value":"<code class=\"language-text\">name</code>"},{"type":"text","value":" field to origin configurations. Every defined origin must have a unique name (the empty string is OK).\nThis only affects configurations with multiple origins, which should be rare."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201711-137-g908dbec6f---2017-12-05"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201711-137-g908dbec6f---2017-12-05","aria-label":"201711 137 g908dbec6f   2017 12 05 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2017.11-137-g908dbec6f - 2017-12-05"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Improved persisted query handling so that cache misses are not treated like other GraphQL errors."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed an issue where GraphQL query extensions (like "},{"type":"raw","value":"<code class=\"language-text\">persistedQuery</code>"},{"type":"text","value":") would be forwarded to the origin server. This caused issues with origins other than Warthog Server."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201711-121-g2a0310e1b---2017-11-30"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201711-121-g2a0310e1b---2017-11-30","aria-label":"201711 121 g2a0310e1b   2017 11 30 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2017.11-121-g2a0310e1b - 2017-11-30"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Improved performance when reverse proxying non-GraphQL requests."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Removed "},{"type":"raw","value":"<code class=\"language-text\">-restart=true</code>"},{"type":"text","value":" flag, which spawned and managed a child proxy process. This was only used by the "},{"type":"raw","value":"<code class=\"language-text\">warthog-engine</code>"},{"type":"text","value":" Node.js package."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added POSIX signal processing:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On "},{"type":"raw","value":"<code class=\"language-text\">SIGHUP</code>"},{"type":"text","value":", reload configuration. Configurations provided through "},{"type":"raw","value":"<code class=\"language-text\">STDIN</code>"},{"type":"text","value":" ignore "},{"type":"raw","value":"<code class=\"language-text\">SIGHUP</code>"},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On "},{"type":"raw","value":"<code class=\"language-text\">SIGTERM</code>"},{"type":"text","value":", or "},{"type":"raw","value":"<code class=\"language-text\">SIGINT</code>"},{"type":"text","value":", attempt to send final stats and traces  before gracefully shutting down."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added the ability to prevent certain GraphQL variables, by name, from being forwarded to Warthog Engine servers. The proxy replaces these variables with the string "},{"type":"raw","value":"<code class=\"language-text\">(redacted)</code>"},{"type":"text","value":" in traces, so their presence can be verified but the value is not transmitted."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To blacklist GraphQL variables "},{"type":"raw","value":"<code class=\"language-text\">password</code>"},{"type":"text","value":" and "},{"type":"raw","value":"<code class=\"language-text\">secret</code>"},{"type":"text","value":", add: "},{"type":"raw","value":"<code class=\"language-text\">&quot;privateVariables&quot;: [&quot;password&quot;, &quot;secret&quot;]</code>"},{"type":"text","value":" within the "},{"type":"raw","value":"<code class=\"language-text\">reporting</code>"},{"type":"text","value":" section of the configuration. There are no default private variables."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added the option to disable reporting of stats and traces to Warthog servers, so that integration tests can run without polluting production data."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":" To disable reporting, add "},{"type":"raw","value":"<code class=\"language-text\">&quot;disabled&quot;: true</code>"},{"type":"text","value":" within the "},{"type":"raw","value":"<code class=\"language-text\">reporting</code>"},{"type":"text","value":" section of the configuration. Reporting is enabled by default."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added the ability to forward log output to "},{"type":"raw","value":"<code class=\"language-text\">STDOUT</code>"},{"type":"text","value":", "},{"type":"raw","value":"<code class=\"language-text\">STDERR</code>"},{"type":"text","value":", or a file path. Previously logging was always sent to "},{"type":"raw","value":"<code class=\"language-text\">STDERR</code>"},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":" To change log output, add "},{"type":"raw","value":"<code class=\"language-text\">&quot;destination&quot;: &quot;STDOUT&quot;</code>"},{"type":"text","value":" within the "},{"type":"raw","value":"<code class=\"language-text\">logging</code>"},{"type":"text","value":" section of the configuration.\nLike query/request loggings, rotation of file logs is out of scope."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed an issue where "},{"type":"raw","value":"<code class=\"language-text\">Content-Type</code>"},{"type":"text","value":" values with parameters (e.g. "},{"type":"raw","value":"<code class=\"language-text\">application/json;charset=utf=8</code>"},{"type":"text","value":") would bypass GraphQL instrumentation."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added support for the Automatic Persisted Queries protocol."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201711-84-gb299b9188---2017-11-20"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201711-84-gb299b9188---2017-11-20","aria-label":"201711 84 gb299b9188   2017 11 20 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2017.11-84-gb299b9188 - 2017-11-20"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed GraphQL parsing bugs that prevented handling requests containing list literals and object literals."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added the ability for the proxy to output JSON formatted logs."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed a bug with reverse proxying to HTTPS origins."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201711-59-g4ff40ec30---2017-11-14"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201711-59-g4ff40ec30---2017-11-14","aria-label":"201711 59 g4ff40ec30   2017 11 14 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2017.11-59-g4ff40ec30 - 2017-11-14"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed passing through custom fields on GraphQL errors."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201711-40-g9585bfc6---2017-11-09"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201711-40-g9585bfc6---2017-11-09","aria-label":"201711 40 g9585bfc6   2017 11 09 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2017.11-40-g9585bfc6 - 2017-11-09"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed a bug where query parameters would be dropped from requests forwarded to origins."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added the ability to send reports through an HTTP or SOCKS5 proxy."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To enable reporting through a proxy, set "},{"type":"raw","value":"<code class=\"language-text\">&quot;proxyUrl&quot;: &quot;http://192.168.1.1:3128&quot;</code>"},{"type":"text","value":" within the "},{"type":"raw","value":"<code class=\"language-text\">reporting</code>"},{"type":"text","value":" section of the configuration."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added support for transport level batching, like "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/goldcaddy77/warthog-link/tree/master/packages/warthog-link-batch-http"},"children":[{"type":"text","value":"warthog-link-batch-http"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By default, query batches are fractured by the proxy and individual queries are sent to origins, in parallel.\nIf your origin supports batching and you'd like to pass entire batches through, set "},{"type":"raw","value":"<code class=\"language-text\">&quot;supportsBatch&quot;: true</code>"},{"type":"text","value":" within the "},{"type":"raw","value":"<code class=\"language-text\">origins</code>"},{"type":"text","value":" section of the configuration."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"BREAKING"}]},{"type":"text","value":": Changed behaviour when the proxy receives a non-GraphQL response from an origin server.\nPreviously the proxy would serve the non-GraphQL response, now it returns a valid GraphQL error indicating that the origin failed to respond."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added support for the "},{"type":"raw","value":"<code class=\"language-text\">includeInResponse</code>"},{"type":"text","value":" query extension. This allows clients to request GraphQL response extensions be forwarded through the proxy."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To instruct the proxy to strip extensions, set: "},{"type":"raw","value":"<code class=\"language-text\">&quot;extensions&quot;: { &quot;strip&quot;: [&quot;cacheControl&quot;, &quot;tracing&quot;, &quot;myAwesomeExtension&quot;] }</code>"},{"type":"text","value":" within the "},{"type":"raw","value":"<code class=\"language-text\">frontends</code>"},{"type":"text","value":" section of the configuration.\nBy default, Warthog extensions: "},{"type":"raw","value":"<code class=\"language-text\">cacheControl</code>"},{"type":"text","value":" and "},{"type":"raw","value":"<code class=\"language-text\">tracing</code>"},{"type":"text","value":" are stripped."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Stripped extensions may still be returned if the client requests them via the "},{"type":"raw","value":"<code class=\"language-text\">includeInResponse</code>"},{"type":"text","value":" query extension.\nTo instruct the proxy to "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"never"}]},{"type":"text","value":" return extensions, set "},{"type":"raw","value":"<code class=\"language-text\">&quot;extensions&quot;: { &quot;blacklist&quot;: [&quot;tracing&quot;,&quot;mySecretExtension&quot;] }</code>"},{"type":"text","value":" within the "},{"type":"raw","value":"<code class=\"language-text\">frontends</code>"},{"type":"text","value":" section of the configuration.\nBy default, the Warthog tracing extension: "},{"type":"raw","value":"<code class=\"language-text\">tracing</code>"},{"type":"text","value":" is blacklisted."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"BREAKING"}]},{"type":"text","value":": Fixed a bug where literals in a query were ignored by query cache lookup. This change invalidates the current query cache."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed a bug where the "},{"type":"raw","value":"<code class=\"language-text\">X-Engine-From</code>"},{"type":"text","value":" header was not set in non-GraphQL requests forwarded to origins. This could result in an infinite request loop in the Node.js "},{"type":"raw","value":"<code class=\"language-text\">warthog-engine</code>"},{"type":"text","value":" package."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201710-431-gdc135a5d---2017-10-26"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201710-431-gdc135a5d---2017-10-26","aria-label":"201710 431 gdc135a5d   2017 10 26 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2017.10-431-gdc135a5d - 2017-10-26"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed an issue with per-type stats reporting."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201710-425-gdd4873ae---2017-10-26"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201710-425-gdd4873ae---2017-10-26","aria-label":"201710 425 gdd4873ae   2017 10 26 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2017.10-425-gdd4873ae - 2017-10-26"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Removed empty values in the request to server: "},{"type":"raw","value":"<code class=\"language-text\">operationName</code>"},{"type":"text","value":", "},{"type":"raw","value":"<code class=\"language-text\">extensions</code>"},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Improved error message when handling a request with GraphQL batching. Batching is still not supported at this time."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201710-408-g497e1410"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201710-408-g497e1410","aria-label":"201710 408 g497e1410 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2017.10-408-g497e1410"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Removed limit on HTTP responses from origin server."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed issue where the "},{"type":"raw","value":"<code class=\"language-text\">warthog-engine</code>"},{"type":"text","value":" Node.js package would fail to clean up sidecar processes."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Switched query cache compression from LZ4 to Snappy."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"BREAKING"}]},{"type":"text","value":": Renamed the "},{"type":"raw","value":"<code class=\"language-text\">logcfg</code>"},{"type":"text","value":" configuration section to "},{"type":"raw","value":"<code class=\"language-text\">logging</code>"},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"BREAKING"}]},{"type":"text","value":": Nested HTTP/Lambda origin configurations under child objects: "},{"type":"raw","value":"<code class=\"language-text\">http</code>"},{"type":"text","value":" and "},{"type":"raw","value":"<code class=\"language-text\">lambda</code>"},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added HTTP request logging, and GraphQL query logging options."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These changes mean that a basic configuration like:"}]},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">{\n  &quot;apiKey&quot;: &quot;&lt;ENGINE_API_KEY&gt;&quot;,\n  &quot;logcfg&quot;: {\n    &quot;level&quot;: &quot;INFO&quot;\n  },\n  &quot;origins&quot;: [\n    {\n      &quot;url&quot;: &quot;http://localhost:3000/graphql&quot;\n    }\n  ],\n  &quot;frontends&quot;: [\n    {\n      &quot;host&quot;: &quot;127.0.0.1&quot;,\n      &quot;port&quot;: 3001,\n      &quot;endpoint&quot;: &quot;/graphql&quot;\n    }\n  ]\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>"},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Is updated to:"}]},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">{\n  &quot;apiKey&quot;: &quot;&lt;ENGINE_API_KEY&gt;&quot;,\n  &quot;logging&quot;: {\n    &quot;level&quot;: &quot;INFO&quot;\n  },\n  &quot;origins&quot;: [\n    {\n      &quot;http&quot;: {\n        &quot;url&quot;: &quot;http://localhost:3000/graphql&quot;\n      }\n    }\n  ],\n  &quot;frontends&quot;: [\n    {\n      &quot;host&quot;: &quot;127.0.0.1&quot;,\n      &quot;port&quot;: 3001,\n      &quot;endpoint&quot;: &quot;/graphql&quot;\n    }\n  ]\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>"},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"201710-376-g0e29d5d5"},"children":[{"type":"element","tagName":"a","properties":{"href":"#201710-376-g0e29d5d5","aria-label":"201710 376 g0e29d5d5 permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"2017.10-376-g0e29d5d5"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Added (debug) log message to indicate if a query's trace was selected for reporting."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fixed an issue where non-GraphQL errors (i.e. a "},{"type":"raw","value":"<code class=\"language-text\">500</code>"},{"type":"text","value":" response with an HTML error page) would not be tracked as errors."}]},{"type":"text","value":"\n"}]}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":321,"column":1,"offset":25271}}}}